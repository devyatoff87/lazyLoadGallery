import { imgArray } from './pic-srcs.js';

let imgColumns = document.querySelectorAll('.img-column');
imgColumns = Array.from(imgColumns)
let imgsPerColumn = Math.floor(imgArray.length / imgColumns.length);
const createImgs = () => {
    let k = 0;
    let m = 0;
    for (let i = 0; i <= imgColumns.length - 1; i++) {
        for (let u = 0; u < imgsPerColumn; u++) {
            let div = document.createElement('div');
            div.className = 'random-pic';
            let img = document.createElement('img');
            img.dataset.src = imgArray[k++];
            img.src = "";
            div.append(img);
            imgColumns[m].append(div);
        }
        m++
    }
}

const observer = new IntersectionObserver((entries) => {
    entries.forEach((entry) => {
        if (entry.isIntersecting === true) {
            let img = entry.target.querySelector('img')
            img.src = img.dataset.src;
            entry.target.classList.add("in-view");
        }
    });
});

const observerStarter = () => {
    let imgs = document.querySelectorAll('.random-pic');
    imgs = Array.from(imgs);

    imgs.forEach((item, index) => {
        observer.observe(item);
    });
}

createImgs()
observerStarter()







//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGltZ0FycmF5IH0gZnJvbSAnLi9waWMtc3Jjcy5qcyc7XHJcblxyXG5sZXQgaW1nQ29sdW1ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbWctY29sdW1uJyk7XHJcbmltZ0NvbHVtbnMgPSBBcnJheS5mcm9tKGltZ0NvbHVtbnMpXHJcbmxldCBpbWdzUGVyQ29sdW1uID0gTWF0aC5mbG9vcihpbWdBcnJheS5sZW5ndGggLyBpbWdDb2x1bW5zLmxlbmd0aCk7XHJcbmNvbnN0IGNyZWF0ZUltZ3MgPSAoKSA9PiB7XHJcbiAgICBsZXQgayA9IDA7XHJcbiAgICBsZXQgbSA9IDA7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8PSBpbWdDb2x1bW5zLmxlbmd0aCAtIDE7IGkrKykge1xyXG4gICAgICAgIGZvciAobGV0IHUgPSAwOyB1IDwgaW1nc1BlckNvbHVtbjsgdSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgZGl2LmNsYXNzTmFtZSA9ICdyYW5kb20tcGljJztcclxuICAgICAgICAgICAgbGV0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xyXG4gICAgICAgICAgICBpbWcuZGF0YXNldC5zcmMgPSBpbWdBcnJheVtrKytdO1xyXG4gICAgICAgICAgICBpbWcuc3JjID0gXCJcIjtcclxuICAgICAgICAgICAgZGl2LmFwcGVuZChpbWcpO1xyXG4gICAgICAgICAgICBpbWdDb2x1bW5zW21dLmFwcGVuZChkaXYpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBtKytcclxuICAgIH1cclxufVxyXG5cclxuY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKGVudHJpZXMpID0+IHtcclxuICAgIGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcclxuICAgICAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgbGV0IGltZyA9IGVudHJ5LnRhcmdldC5xdWVyeVNlbGVjdG9yKCdpbWcnKVxyXG4gICAgICAgICAgICBpbWcuc3JjID0gaW1nLmRhdGFzZXQuc3JjO1xyXG4gICAgICAgICAgICBlbnRyeS50YXJnZXQuY2xhc3NMaXN0LmFkZChcImluLXZpZXdcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn0pO1xyXG5cclxuY29uc3Qgb2JzZXJ2ZXJTdGFydGVyID0gKCkgPT4ge1xyXG4gICAgbGV0IGltZ3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucmFuZG9tLXBpYycpO1xyXG4gICAgaW1ncyA9IEFycmF5LmZyb20oaW1ncyk7XHJcblxyXG4gICAgaW1ncy5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICAgIG9ic2VydmVyLm9ic2VydmUoaXRlbSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuY3JlYXRlSW1ncygpXHJcbm9ic2VydmVyU3RhcnRlcigpXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiJdfQ==
